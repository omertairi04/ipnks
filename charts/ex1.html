<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Example 1</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
<div>
  <button onclick="visualizeData('Senior')">Show Seniors</button>
  <button onclick="visualizeData('Junior')">Show Juniors</button>
  <button onclick="visualizeData()">Show Both</button>
</div>
<div id="container" style="margin-top: 20px;"></div>

<script>
  const data = [
    {
      name: 'Alice',
      level: 'Senior',
      earnings: [
        { month: "January", amount: 4000 },
        { month: "February", amount: 4200 },
        { month: "March", amount: 4500 },
        { month: "April", amount: 4800 },
        { month: "May", amount: 5000 },
        { month: "June", amount: 5100 },
        { month: "July", amount: 5300 },
        { month: "August", amount: 5200 },
        { month: "September", amount: 5000 },
        { month: "October", amount: 4900 },
        { month: "November", amount: 4800 },
        { month: "December", amount: 4700 }
      ]
    },
    {
      name: "Bob",
      level: "Junior",
      earnings: [
        { month: "January", amount: 2000 },
        { month: "February", amount: 1200 },
        { month: "March", amount: 3500 },
        { month: "April", amount: 1800 },
        { month: "May", amount: 2000 },
        { month: "June", amount: 3100 },
        { month: "July", amount: 1300 },
        { month: "August", amount: 1200 },
        { month: "September", amount: 2000 },
        { month: "October", amount: 1900 },
        { month: "November", amount: 2800 },
        { month: "December", amount: 1700 }
      ]
    },
    {
      name: "Charlie",
      level: "Senior",
      earnings: [
        { month: "January", amount: 4000 },
        { month: "February", amount: 5200 },
        { month: "March", amount: 5500 },
        { month: "April", amount: 6800 },
        { month: "May", amount: 3000 },
        { month: "June", amount: 5100 },
        { month: "July", amount: 4300 },
        { month: "August", amount: 5200 },
        { month: "September", amount: 6000 },
        { month: "October", amount: 4900 },
        { month: "November", amount: 4800 },
        { month: "December", amount: 5700 }
      ]
    },
    {
      name: "Sarah",
      level: "Senior",
      earnings: [
        { month: "January", amount: 3000 },
        { month: "February", amount: 4200 },
        { month: "March", amount: 5500 },
        { month: "April", amount: 4800 },
        { month: "May", amount: 5000 },
        { month: "June", amount: 6100 },
        { month: "July", amount: 5300 },
        { month: "August", amount: 4200 },
        { month: "September", amount: 6000 },
        { month: "October", amount: 4900 },
        { month: "November", amount: 6800 },
        { month: "December", amount: 5700 }
      ]
    },
  ];

  function visualizeData(level) {
    let filteredData = data;

    // Filter based on the selected level (if specified)
    if (level) {
      filteredData = filteredData.filter(d => d.level === level);
    }

    let traces = [];

    for (let i = 0; i < filteredData.length; i++) {
      let trace = {
        x: filteredData[i].earnings.map(d => d.month),
        y: filteredData[i].earnings.map(d => d.amount),
        type: 'markers+lines',
        name: filteredData[i].name,
      };
      traces.push(trace);
    }

    // Render the plot
    Plotly.newPlot("container", traces);
  }

  // Initially show all data
  visualizeData();
</script>
</body>
</html>
